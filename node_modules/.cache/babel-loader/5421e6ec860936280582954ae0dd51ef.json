{"ast":null,"code":"import _defineProperty from \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/src/Components/EditFormWithinModal.js\";\nimport React from 'react';\nimport { Form } from 'semantic-ui-react';\n\nvar EditFormWithinModal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditFormWithinModal, _React$Component);\n\n  function EditFormWithinModal(props) {\n    var _this;\n\n    _classCallCheck(this, EditFormWithinModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditFormWithinModal).call(this, props));\n\n    _this.handleChange = function (data) {\n      _this.setState(_defineProperty({}, data.name, data.value));\n    };\n\n    _this.handleEdit = function (editedToDo) {\n      var token = localStorage.getItem('token');\n      fetch(\"http://localhost:3000/api/v1/to_dos/\".concat(editedToDo.id), {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          'Authorization': token\n        },\n        body: JSON.stringify(editedToDo)\n      }).then(function () {\n        _this.props.handleClose();\n\n        _this.props.changeViewToIndex(editedToDo);\n      }); // .then(r => {})\n    };\n\n    _this.state = {\n      id: props.todo.id,\n      header: props.todo.header,\n      description: props.todo.description\n    };\n    return _this;\n  }\n\n  _createClass(EditFormWithinModal, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: function onSubmit() {\n          return _this2.handleEdit(_this2.state);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        widths: \"equal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Form.Input, {\n        onChange: function onChange(event, data) {\n          return _this2.handleChange(data);\n        },\n        label: \"Title\",\n        placeholder: \"header\",\n        name: \"header\",\n        value: this.state.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(Form.TextArea, {\n        onChange: function onChange(event, data) {\n          return _this2.handleChange(data);\n        },\n        label: \"Description\",\n        placeholder: \"description\",\n        name: \"description\",\n        value: this.state.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      })), React.createElement(Form.Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Submit\")));\n    }\n  }]);\n\n  return EditFormWithinModal;\n}(React.Component);\n\nexport default EditFormWithinModal;","map":{"version":3,"sources":["/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/src/Components/EditFormWithinModal.js"],"names":["React","Form","EditFormWithinModal","props","handleChange","data","setState","name","value","handleEdit","editedToDo","token","localStorage","getItem","fetch","id","method","headers","body","JSON","stringify","then","handleClose","changeViewToIndex","state","todo","header","description","event","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,mBAArB;;IAEMC,mB;;;;;AACJ,+BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,6FAAMA,KAAN;;AADiB,UASnBC,YATmB,GASJ,UAACC,IAAD,EAAU;AACvB,YAAKC,QAAL,qBACGD,IAAI,CAACE,IADR,EACeF,IAAI,CAACG,KADpB;AAGD,KAbkB;;AAAA,UAgBnBC,UAhBmB,GAgBN,UAACC,UAAD,EAAe;AAC1B,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAC,MAAAA,KAAK,+CAAwCJ,UAAU,CAACK,EAAnD,GAAyD;AAC5DC,QAAAA,MAAM,EAAE,OADoD;AAE5DC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,2BAAiBN;AAFV,SAFmD;AAM5DO,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CACJV,UADI;AANsD,OAAzD,CAAL,CASGW,IATH,CASS,YAAM;AACb,cAAKlB,KAAL,CAAWmB,WAAX;;AACA,cAAKnB,KAAL,CAAWoB,iBAAX,CAA6Bb,UAA7B;AACD,OAZD,EAF0B,CAiB1B;AAED,KAnCkB;;AAEjB,UAAKc,KAAL,GAAa;AACXT,MAAAA,EAAE,EAAEZ,KAAK,CAACsB,IAAN,CAAWV,EADJ;AAEXW,MAAAA,MAAM,EAAEvB,KAAK,CAACsB,IAAN,CAAWC,MAFR;AAGXC,MAAAA,WAAW,EAAExB,KAAK,CAACsB,IAAN,CAAWE;AAHb,KAAb;AAFiB;AAOlB;;;;6BA8BQ;AAAA;;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,QAAQ,EAAE;AAAA,iBAAI,MAAI,CAAClB,UAAL,CAAgB,MAAI,CAACe,KAArB,CAAJ;AAAA,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD,CAAM,KAAN;AAAY,QAAA,MAAM,EAAC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD,CAAM,KAAN;AAAY,QAAA,QAAQ,EAAE,kBAACI,KAAD,EAAQvB,IAAR;AAAA,iBAAiB,MAAI,CAACD,YAAL,CAAkBC,IAAlB,CAAjB;AAAA,SAAtB;AAAgE,QAAA,KAAK,EAAC,OAAtE;AAA8E,QAAA,WAAW,EAAC,QAA1F;AAAmG,QAAA,IAAI,EAAC,QAAxG;AAAiH,QAAA,KAAK,EAAE,KAAKmB,KAAL,CAAWE,MAAnI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,IAAD,CAAM,QAAN;AAAe,QAAA,QAAQ,EAAE,kBAACE,KAAD,EAAQvB,IAAR;AAAA,iBAAiB,MAAI,CAACD,YAAL,CAAkBC,IAAlB,CAAjB;AAAA,SAAzB;AAAmE,QAAA,KAAK,EAAC,aAAzE;AAAuF,QAAA,WAAW,EAAC,aAAnG;AAAiH,QAAA,IAAI,EAAC,aAAtH;AAAoI,QAAA,KAAK,EAAE,KAAKmB,KAAL,CAAWG,WAAtJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAKE,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,CADF,CADF;AAWD;;;;EAlD+B3B,KAAK,CAAC6B,S;;AAqDxC,eAAe3B,mBAAf","sourcesContent":["import React from 'react'\nimport { Form } from 'semantic-ui-react'\n\nclass EditFormWithinModal extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      id: props.todo.id,\n      header: props.todo.header,\n      description: props.todo.description\n    }\n  }\n\n  handleChange = (data) => {\n    this.setState({\n      [data.name]: data.value\n    })\n  }\n\n\n  handleEdit = (editedToDo) =>{\n    const token = localStorage.getItem('token')\n    fetch(`http://localhost:3000/api/v1/to_dos/${editedToDo.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': token\n      },\n      body: JSON.stringify(\n        editedToDo\n      )\n    }).then( () => {\n      this.props.handleClose()\n      this.props.changeViewToIndex(editedToDo)\n    }\n    )\n\n    // .then(r => {})\n\n  }\n\n  render() {\n    return (\n      <div>\n        <Form onSubmit={()=>this.handleEdit(this.state)}>\n          <Form.Group widths=\"equal\">\n            <Form.Input onChange={(event, data) => this.handleChange(data)} label=\"Title\" placeholder=\"header\" name=\"header\" value={this.state.header} />\n            <Form.TextArea onChange={(event, data) => this.handleChange(data)} label=\"Description\" placeholder=\"description\" name=\"description\" value={this.state.description}/>\n          </Form.Group>\n          <Form.Button>Submit</Form.Button>\n        </Form>\n      </div>\n    )\n  }\n}\n\nexport default EditFormWithinModal\n"]},"metadata":{},"sourceType":"module"}