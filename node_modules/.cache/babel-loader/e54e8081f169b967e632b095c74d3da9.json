{"ast":null,"code":"import _toConsumableArray from \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/src/Containers/ToDoContainer.js\";\nimport React, { Component } from 'react';\nimport ToDoCard from '../Components/ToDoCard';\n\nvar ToDoContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ToDoContainer, _Component);\n\n  function ToDoContainer(props) {\n    var _this;\n\n    _classCallCheck(this, ToDoContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ToDoContainer).call(this, props));\n\n    _this.changeViewToIndex = function (editToDo) {\n      var newArray = _toConsumableArray(_this.state.toDos);\n\n      var indexOfeditToDo = newArray.indexOf(editToDo);\n      newArray[indexOfeditToDo] = editToDo;\n\n      _this.setState({\n        toDos: newArray\n      });\n\n      _this.props.changeViewToHome();\n\n      _this.props.changeViewToAllTodos();\n    };\n\n    _this.renderToDos = function () {\n      var items = _this.state.toDos;\n      return items.map(function (toDo) {\n        return React.createElement(ToDoCard, {\n          key: toDo.id,\n          toDo: toDo,\n          handleDelete: _this.handleDelete,\n          handleEdit: _this.handleEdit,\n          changeViewToIndex: _this.changeViewToIndex,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        });\n      });\n    };\n\n    _this.handleDelete = function (toDo) {\n      var upDatedToDos = _toConsumableArray(_this.state.toDos);\n\n      var toDoToDelete = upDatedToDos.indexOf(toDo);\n      upDatedToDos.splice(toDoToDelete, 1);\n\n      _this.setState({\n        toDos: upDatedToDos\n      });\n\n      fetch(\"http://localhost:3000/api/v1/to_dos/\".concat(toDo.id), {\n        method: \"DELETE\"\n      });\n    };\n\n    _this.state = {\n      toDos: []\n    };\n    return _this;\n  }\n\n  _createClass(ToDoContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://localhost:3000/api/v1/to_dos').then(function (r) {\n        return r.json();\n      }).then(function (data) {\n        return _this2.setState({\n          toDos: data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"ToDoContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, this.renderToDos());\n    }\n  }]);\n\n  return ToDoContainer;\n}(Component);\n\nexport default ToDoContainer;","map":{"version":3,"sources":["/Users/flatironschool/Development/week12/Mod-4-Project-FrontEnd/src/Containers/ToDoContainer.js"],"names":["React","Component","ToDoCard","ToDoContainer","props","changeViewToIndex","editToDo","newArray","state","toDos","indexOfeditToDo","indexOf","setState","changeViewToHome","changeViewToAllTodos","renderToDos","items","map","toDo","id","handleDelete","handleEdit","upDatedToDos","toDoToDelete","splice","fetch","method","then","r","json","data"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,wBAArB;;IAEMC,a;;;;;AACJ,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,uFAAMA,KAAN;;AADiB,UAOnBC,iBAPmB,GAOC,UAACC,QAAD,EAAa;AAC/B,UAAMC,QAAQ,sBAAO,MAAKC,KAAL,CAAWC,KAAlB,CAAd;;AACA,UAAMC,eAAe,GAAGH,QAAQ,CAACI,OAAT,CAAiBL,QAAjB,CAAxB;AACAC,MAAAA,QAAQ,CAACG,eAAD,CAAR,GAA4BJ,QAA5B;;AACA,YAAKM,QAAL,CAAc;AAACH,QAAAA,KAAK,EAAEF;AAAR,OAAd;;AACA,YAAKH,KAAL,CAAWS,gBAAX;;AACA,YAAKT,KAAL,CAAWU,oBAAX;AACD,KAdkB;;AAAA,UAsBnBC,WAtBmB,GAsBL,YAAM;AAClB,UAAMC,KAAK,GAAG,MAAKR,KAAL,CAAWC,KAAzB;AACA,aAAOO,KAAK,CAACC,GAAN,CAAU,UAAAC,IAAI;AAAA,eAAI,oBAAC,QAAD;AAAU,UAAA,GAAG,EAAEA,IAAI,CAACC,EAApB;AAAwB,UAAA,IAAI,EAAED,IAA9B;AAAoC,UAAA,YAAY,EAAE,MAAKE,YAAvD;AAAqE,UAAA,UAAU,EAAE,MAAKC,UAAtF;AAAkG,UAAA,iBAAiB,EAAE,MAAKhB,iBAA1H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAJ;AAAA,OAAd,CAAP;AACD,KAzBkB;;AAAA,UA2BnBe,YA3BmB,GA2BJ,UAACF,IAAD,EAAU;AACvB,UAAMI,YAAY,sBAAO,MAAKd,KAAL,CAAWC,KAAlB,CAAlB;;AACA,UAAMc,YAAY,GAAGD,YAAY,CAACX,OAAb,CAAqBO,IAArB,CAArB;AACAI,MAAAA,YAAY,CAACE,MAAb,CAAoBD,YAApB,EAAkC,CAAlC;;AACA,YAAKX,QAAL,CAAc;AAACH,QAAAA,KAAK,EAAEa;AAAR,OAAd;;AACAG,MAAAA,KAAK,+CAAwCP,IAAI,CAACC,EAA7C,GAAmD;AACtDO,QAAAA,MAAM,EAAE;AAD8C,OAAnD,CAAL;AAGD,KAnCkB;;AAEjB,UAAKlB,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE;AADI,KAAb;AAFiB;AAKlB;;;;wCAWmB;AAAA;;AAClBgB,MAAAA,KAAK,CAAC,qCAAD,CAAL,CACGE,IADH,CACQ,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,IAAF,EAAJ;AAAA,OADT,EAEGF,IAFH,CAEQ,UAAAG,IAAI;AAAA,eAAI,MAAI,CAAClB,QAAL,CAAc;AAACH,UAAAA,KAAK,EAAEqB;AAAR,SAAd,CAAJ;AAAA,OAFZ;AAGD;;;6BAiBQ;AACP,aACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKf,WAAL,EADH,CADF;AAKD;;;;EA5CyBd,S;;AA+C5B,eAAeE,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport ToDoCard from '../Components/ToDoCard'\n\nclass ToDoContainer extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      toDos: [],\n    }\n  }\n\n  changeViewToIndex = (editToDo) =>{\n    const newArray = [...this.state.toDos]\n    const indexOfeditToDo = newArray.indexOf(editToDo)\n    newArray[indexOfeditToDo] = editToDo\n    this.setState({toDos: newArray})\n    this.props.changeViewToHome()\n    this.props.changeViewToAllTodos()\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3000/api/v1/to_dos')\n      .then(r => r.json())\n      .then(data => this.setState({toDos: data}))\n  }\n\n  renderToDos = () => {\n    const items = this.state.toDos\n    return items.map(toDo => <ToDoCard key={toDo.id} toDo={toDo} handleDelete={this.handleDelete} handleEdit={this.handleEdit} changeViewToIndex={this.changeViewToIndex}/>)\n  }\n\n  handleDelete = (toDo) => {\n    const upDatedToDos = [...this.state.toDos]\n    const toDoToDelete = upDatedToDos.indexOf(toDo)\n    upDatedToDos.splice(toDoToDelete, 1)\n    this.setState({toDos: upDatedToDos})\n    fetch(`http://localhost:3000/api/v1/to_dos/${toDo.id}`, {\n      method: \"DELETE\"\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"ToDoContainer\">\n        {this.renderToDos()}\n      </div>\n    );\n  }\n}\n\nexport default ToDoContainer;\n"]},"metadata":{},"sourceType":"module"}